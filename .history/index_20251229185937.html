<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Fantasy Auction Dashboard</title>

<style>
body { font-family: Arial; background:#f4f6f8; padding:20px; }
table { width:100%; border-collapse:collapse; background:white; }
th,td { border:1px solid #ccc; padding:6px; text-align:center; }
th { background:#111; color:white; }
input { padding:6px; margin:4px; }
</style>
</head>

<body>

<h1>üèè Fantasy Auction Dashboard</h1>

<h2>Team Rankings</h2>
<table>
<thead>
<tr><th>Rank</th><th>Team</th><th>Points</th></tr>
</thead>
<tbody id="rankBody"></tbody>
</table>

<h2>Player Match-wise Points</h2>

<input id="playerFilter" placeholder="Player">
<input id="matchFilter" placeholder="Match ID">
<input id="teamFilter" placeholder="Auction Team">

<table>
<thead>
<tr>
<th>Match</th><th>Player</th><th>Team</th><th>Points</th>
</tr>
</thead>
<tbody id="pointsBody"></tbody>
</table>

<script>
const rankData = {{RANK_DATA}};
const pointsData = {{POINTS_DATA}};

function loadRank(){
  rankBody.innerHTML = rankData.map(r =>
    `<tr><td>${r.rank}</td><td>${r.teams}</td><td>${r.points}</td></tr>`
  ).join("");
}

function renderPoints(data){
  pointsBody.innerHTML = data.map(p =>
    `<tr><td>${p.match_id}</td><td>${p.player}</td><td>${p.auction_team}</td><td>${p.total_points}</td></tr>`
  ).join("");
}

function filterData(){
  let p = playerFilter.value.toLowerCase();
  let m = matchFilter.value;
  let t = teamFilter.value.toLowerCase();

  renderPoints(pointsData.filter(x =>
    x.player.toLowerCase().includes(p) &&
    String(x.match_id).includes(m) &&
    String(x.auction_team).toLowerCase().includes(t)
  ));
}

playerFilter.oninput = filterData;
matchFilter.oninput = filterData;
teamFilter.oninput = filterData;

loadRank();
renderPoints(pointsData);
</script>

</body>
</html>
